<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Twitbutler -- commands</title>
  <link rel="stylesheet" href="./css/commands.css">
</head>
<body>
  Twitbutler は現在以下のコマンドに反応します．特記無い場合は引数の区切りはスペースで，余分な引数は無視されます．
  <dl class="commands">
    <dt id="ping">ping</dt>
    <dd class="command">!ping</dd>
    <dd class="arguments">なし</dd>
    <dd class="response">pong (+32423)</dd>
    <dd class="descr">ふつうの <code>ping</code>.
      連投規制を避けるため時刻に応じた5桁の数字を加えて返します．</dd>
    
    <dt id="time">time</dt>
    <dd class="command">!time</dd>
    <dd class="arguments">なし</dd>
    <dd class="response">2014-09-14 08:29:14 UTC / 1410683354.691493 secs since the epoc</dd>
    <dd class="descr">現在時刻を UTC と epoc time で返します．</dd>
    
    <dt id="help">help</dt>
    <dd class="command">!help [command]</dd>
    <dd class="arguments">help を見たいコマンド (optional)</dd>
    <dd class="descr">
      引数が与えられればその command の help を返し，
      引数が無いときは出来る範囲でコマンド一覧を出力します．
    </dd>
    
    <dt id="weather">weather</dt>
    <dd class="command">!weather (city)</dd>
    <dd class="arguments">
      <a href="https://gist.github.com/lesguillemets/f52c57cb19bf25833f3a">ここ</a>
      に上がっている都市名のいずれか（1つのみ）．
    </dd>
    <dd class="response">
      京都:本日(2014-09-15) --- 曇り，29°C / (-)°C,
      明日(2014-09-16) --- 曇時々晴，30°C / 19°C
    </dd>
    <dd class="descr">
      本日と翌日の天気予報を返します．天気，最高気温，最低気温の順で，
      予報に含まれない値は <code>(-)</code> となります．
      都市名として指定できるのは1つのみで，空白スペースを区切りとして
      以降は無視されます．
    </dd>
    <dd class="power">
      <a href="http://www.tenki.jp/">日本気象協会</a> via
      <a href="http://weather.livedoor.com/weather_hacks/">
        weather hacks
      </a> by livedoor
    </dd>
    
    <dt id="rain">rain</dt>
    <dd class="command">!rain (location) [..]</dd>
    <dd class="arguments">
      Yahoo! ジオコーダAPI に渡される，住所を表す文字列
    </dd>
    <dd class="response">
      1910 現在の10分間降雨量: 10.5mm (京都府京都市左京区) [95433]
    </dd>
    <dd class="descr">
      住所を受け取り，その場所の直近の10分間降雨量を返します．
      括弧にくくられて返ってくる住所は，
      このコマンドが与えられた文字列を解釈した結果，
      角括弧 ([]) 内の5桁の数字は連投規制を避けるためのランダム文字列です．
      <br />
      住所の指定は Yahoo! ジオコーダに渡されるため，
      例えば「京都府京都市」，「京都」，「左京区」などの指定が可能です．
      解釈できない文字列を渡された場合はその旨返答します．
      <br />
      また，このコマンドは <code>!rain</code> より後の文字列をすべて Yahoo! ジオコーダに渡します（半角スペースで切りません）が，
      ユーザ側の連投規制を回避できるよう，末尾の任意個の <code>.</code> (半角ピリオド）は無視されます．
    </dd>
    <dd class="power">
      <a href="http://developer.yahoo.co.jp/webapi/map/openlocalplatform/v1/geocoder.html">Yahoo! ジオコーダAPI</a>,
      <a href="http://developer.yahoo.co.jp/webapi/map/openlocalplatform/v1/weather.html">気象情報API</a>. いずれも <span style="margin:15px 15px 15px 15px"><a href="http://developer.yahoo.co.jp/about">Web Services by Yahoo! JAPAN</a></span>.
    </dd>
    
    <dt id="factorize">factorize</dt>
    <dd class="command">!factorize (integer)</dd>
    <dd class="arguments">
      素因数分解すべき整数 (/=0) 1つ
    </dd>
    <dd class="response">
      3^3*19^1*31^1*895008071^1
    </dd>
    <dd class="descr">
      与えられた整数を素因数分解します．
      現在100万以下の素数で試し割りを行って答えを返します．
    </dd>
    
    <dt id="rgb">rgb</dt>
    <dd class="command">!rgb (r g b)</dd>
    <dd class="arguments">
      r,g,b の値（それぞれ 0 &leq; x &leq; 255, 半角スペース区切り）
    </dd>
    <dd class="response">
      rgb 123,233,14 [と，画像]
    </dd>
    <dd class="descr">
      与えられた rgb 値に対応する色見本を png 画像で返します．
    </dd>
    
    <dt id="julia">julia</dt>
    <dd class="command">!julia [ReC ImC [x0 y0 x1 y1]]</dd>
    <dd class="arguments">
      ReC, ImC : c = ReC+ i*ImC で Julia 集合を計算します．[optional]<br />
      x0, y0, x1, y1 : (x0,y0) [左下] から (x1,y1) [右上] までの画像を表示します．[optional]
      x0 &lt; x1, y0 &lt; y1 が必要です．
    </dd>
    <dd class="response">
      入力情報とそれを元に計算された Julia 集合を表現した画像
    </dd>
    <dd class="descr">
      <a href="https://en.wikipedia.org/wiki/Julia_set">Julia 集合</a>を作ります．ReC, ImC が省略された場合 c = -1.24 + 0.075i,
      描画するのはデフォルトでは (-0.3,-0.3) から (0.3,0.3) までです．<br />
      サンプルの入力は次のような感じ
      <ul>
        <li><code>@twitbutler !julia</code> : デフォルト値で計算</li>
        <li><code>@twitbutler !julia -1.36 0.035</code> : c = -1.36 + 0.035i で計算</li>
        <li><code>@twitbutler !julia -1.36 0.035 0 0 0.3 0.3</code> : 左下(0,0), 右上(0.3,0.3) で囲われた正方形領域を描画</li>
      </ul>
      現在のところ画像は 300px*300px(指定された領域の縦横比に関わらず), |z| が 2 を超えたところで発散すると見なし，
      各画素について 300 step 計算して発散しなかった場合には収束するとみなしています．だいぶ粗い．
    </dd>
    
    <dt id="delete">delete</dt>
    <dd class="command">!delete</dd>
    <dd class="arguments">なし</dd>
    <dd class="response">なし（可能な場合に当該 tweet の削除）</dd>
    <dd class="descr">
      twitbutler による tweet に対して reply の形で `!delete` を飛ばすと，
      reply を飛ばした元の tweet を削除します．この時以下の条件が必要です:
      <ul>
        <li>指定した tweet が twitbutler によるものであること</li>
        <li>指定した tweet の元になるコマンドを打った人が， `!delete` している人と同一であること</li>
      </ul>
      両者が満たされた場合には該当の tweet を削除し，条件が満たない時にはその旨返答します．<br />
      <code>!rain</code> などのコマンドを使う際，履歴に残したくない場合に併用することを想定しています．<br />
    </dd>
  </dl>
</body>
</html>
